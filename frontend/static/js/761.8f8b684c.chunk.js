"use strict";(self.webpackChunkdavid_project=self.webpackChunkdavid_project||[]).push([[761],{5761:function(e,n,t){t.r(n),t.d(n,{default:function(){return D}});var a=t(1413),r=t(885),s=t(8214),l=t(5861),i=t(2791),c=t(5048),u=t(8182),o=(t(2426),t(6871)),d=t(4554),f=t(6151),p=t(6409),h=t(1795),x=t(7831),g=t(890),m=t(7630),Z=t(703),b=t(5519),v=t(184),j=(0,m.ZP)(Z.Z)((function(e){return{height:350,width:550,borderWidth:2,borderRadius:10,borderStyle:"dashed",borderColor:e.theme.palette.secondary.main,display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:b.Z[200]}})),k=(0,m.ZP)(g.Z)((function(e){var n=e.theme;return{color:n.palette.text.secondary,fontWeight:"500",fontSize:n.spacing(2.2),fontStyle:"italic"}})),w=function(e){var n=e.data,t=e.name,r=e.onChange,s=e.placeholder,l=e.disabled,o=((0,c.I0)(),(0,i.useCallback)((function(e){if(e.length>0){var n=e[0];r(n)}}),[r])),f=(0,x.uI)({onDrop:o}),p=f.getRootProps,h=f.getInputProps,g=(0,i.useMemo)((function(){return n?(0,v.jsxs)(d.Z,{className:(0,u.Z)("full-width"),sx:{paddingLeft:1,paddingRight:1},children:[(0,v.jsx)(k,{children:s}),(0,v.jsx)(k,{sx:{color:function(e){return e.palette.secondary.main},paddingTop:function(e){return e.spacing(1)},fontWeight:"bold"},className:(0,u.Z)("ellipsis"),children:t})]}):(0,v.jsx)(k,{children:s})}),[n]);return(0,v.jsx)("div",{style:{textAlign:"center"},children:(0,v.jsx)(d.Z,{children:(0,v.jsxs)(j,(0,a.Z)((0,a.Z)({elevation:0},p()),{},{children:[(0,v.jsx)("input",(0,a.Z)({disabled:l},h())),g]}))})})};w.defaultProps={data:"",onChange:function(){},placeholder:"Drop New Image",loading:!1,disabled:!1};var C=(0,i.memo)(w),y=t(4390),A=(t(1322),t(7343)),I=function(){var e=(0,l.Z)((0,s.Z)().mark((function e(n){var t,a;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,y.Sg(n,null,null);case 3:if(!(t=e.sent).data.status){e.next=7;break}return a=t.data.result,e.abrupt("return",a);case 7:e.next=12;break;case 9:return e.prev=9,e.t0=e.catch(0),e.abrupt("return",null);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(n){return e.apply(this,arguments)}}(),N=function(){var e=(0,i.useState)({file:null,name:""}),n=(0,r.Z)(e,2),t=n[0],x=n[1],g=(0,c.I0)(),m=(0,o.s0)(),Z=(0,i.useCallback)((function(e){e&&x((function(n){return(0,a.Z)((0,a.Z)({},n),{},{file:e,name:e.name})}))}),[]),b=(0,i.useCallback)((0,l.Z)((0,s.Z)().mark((function e(){var n,r,l,i,c,u,o,d;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(g((0,p.qA)("Uploading...")),n=t.file,e.prev=2,!n){e.next=26;break}return e.next=6,y.Ng(n);case 6:if(r=e.sent,l=r.data,i=l.error,c=l.locations,g((0,p.qA)(null)),!i){e.next=14;break}g((0,p.MA)({status:!1,message:i})),e.next=26;break;case 14:if(u=(0,A.o)(c),g((0,p._5)(u)),!u&&!u.length){e.next=23;break}return o=u[0],g((0,p.In)(o)),e.next=21,I(o);case 21:(d=e.sent)&&g((0,p.d2)(d));case 23:x((function(e){return(0,a.Z)((0,a.Z)({},e),{},{name:"",file:null})})),g((0,p.MA)({status:!0,message:"Database has been updated!"})),m("/");case 26:e.next=32;break;case 28:e.prev=28,e.t0=e.catch(2),g((0,p.qA)(null)),g((0,p.MA)({status:!1,message:e.t0.message}));case 32:case"end":return e.stop()}}),e,null,[[2,28]])}))),[t]);return(0,v.jsx)(v.Fragment,{children:(0,v.jsx)(h.Z,{children:(0,v.jsx)(d.Z,{className:(0,u.Z)("flex","justify-center","flex-grow"),children:(0,v.jsxs)(d.Z,{children:[(0,v.jsx)(C,{name:t.name,data:t.file,placeholder:"Drop New Database",onChange:Z}),(0,v.jsx)(f.Z,{variant:"contained",disabled:!t.file,sx:{width:"100%",mt:3},onClick:b,children:"Update"})]})})})})},D=(0,i.memo)(N)}}]);
//# sourceMappingURL=761.8f8b684c.chunk.js.map