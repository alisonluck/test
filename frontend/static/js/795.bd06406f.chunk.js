"use strict";(self.webpackChunkdavid_project=self.webpackChunkdavid_project||[]).push([[795],{1795:function(n,e,t){t.d(e,{Z:function(){return Zn}});var r=t(1413),a=t(885),i=t(8214),s=t(5861),c=t(4942),o=t(2791),u=t(5048),l=t(8182),d=(t(2426),t(7630)),f=t(4708),p=t(890),x=t(3239),h=t(4554),Z=t(5519),g=t(6871),m=t(4395),j=t(4663),v=t(3400),b=t(4869),k=t(2727),w=t(3208),C=t(1292),y=t(3767),S=t(703),P=t(5028),F=t(7865),I=t(6488),z=t(6120),D=t(9287),M=t(1881),R=t(184),H=(0,o.memo)((function(n){var e=n.name;return"Logout"===e?(0,R.jsx)(I.Z,{sx:{fontSize:22,mr:1}}):"Setting"===e?(0,R.jsx)(z.Z,{sx:{fontSize:22,mr:1}}):"Chat With Driver"===e?(0,R.jsx)(D.Z,{sx:{fontSize:22,mr:1}}):"Order Details"===e?(0,R.jsx)(M.Z,{sx:{fontSize:22,mr:1}}):(0,R.jsx)(R.Fragment,{})})),B=function(n){var e=n.open,t=n.anchorEl,a=n.options,i=n.onClick,s=n.onClose;return(0,R.jsx)(R.Fragment,{children:(0,R.jsx)(C.Z,{open:e,anchorEl:t.current,role:void 0,transition:!0,disablePortal:!0,placement:"bottom-end",style:{zIndex:1300},children:function(n){var e=n.TransitionProps;n.placement;return(0,R.jsx)(w.Z,(0,r.Z)((0,r.Z)({},e),{},{style:{transformOrigin:"center top"},children:(0,R.jsx)(S.Z,{elevation:4,children:(0,R.jsx)(y.Z,{onClickAway:s,children:(0,R.jsx)(P.Z,{autoFocusItem:Boolean(t),sx:{maxHeight:400},children:a.map((function(n,e){return(0,R.jsxs)(F.Z,{onClick:function(){return i(n)},sx:{paddingLeft:function(n){return n.spacing(3)},paddingRight:function(n){return n.spacing(3)}},children:[(0,R.jsx)(H,{name:n}),(0,R.jsx)(p.Z,{sx:{paddingTop:function(n){return n.spacing(.2)},paddingBottom:function(n){return n.spacing(.2)}},children:n})]},"option_".concat(e))}))})})})}))}})})};B.defaultProps={open:!1,anchorEl:null,options:[],onClick:function(){},onClose:function(){}};var U=(0,o.memo)(B),E=((0,d.ZP)(b.Z)((function(n){var e=n.theme;return{"& .MuiBadge-badge":{right:-3,top:13,border:"2px solid ".concat(e.palette.background.paper),padding:"0 4px"}}})),(0,d.ZP)(j.Z)((function(n){var e=n.theme;return(0,r.Z)({display:"flex",alignItems:"center",justifyContent:"flex-start",padding:e.spacing(0,1)},e.mixins.toolbar)}))),N=((0,d.ZP)("img")((function(n){return{width:35,height:35,objectFit:"contain",marginRight:n.theme.spacing(4)}})),function(){var n=(0,o.useState)({menu:!1}),e=(0,a.Z)(n,2),t=e[0],i=e[1],s=(0,g.s0)(),c=(0,o.useRef)(null),d=((0,u.I0)(),(0,o.useCallback)((function(n){i((function(n){return(0,r.Z)((0,r.Z)({},n),{},{menu:!1})}))}),[])),f=((0,o.useCallback)((function(){i((function(n){return(0,r.Z)((0,r.Z)({},n),{},{menu:!0})}))}),[]),(0,o.useCallback)((function(){i((function(n){return(0,r.Z)((0,r.Z)({},n),{},{menu:!1})}))}),[]));(0,o.useCallback)((function(){s("/")}),[]);return(0,R.jsxs)(R.Fragment,{children:[(0,R.jsx)(m.Z,{position:"fixed",sx:{bgcolor:Z.Z[100],zIndex:function(n){return n.zIndex.drawer+1}},children:(0,R.jsxs)(E,{spacing:2,children:[(0,R.jsx)(h.Z,{className:(0,l.Z)("flex-grow"),children:(0,R.jsx)(p.Z,{variant:"h6",sx:{color:Z.Z[700]},children:"My Statistics Viewer"})}),(0,R.jsx)(v.Z,{children:(0,R.jsx)(k.Z,{})})]})}),(0,R.jsx)(U,{options:["Logout","Setting"],open:t.menu,anchorEl:c,onClose:f,onClick:d})]})}),T=(0,o.memo)(N),L=t(9953),O=t(5021),_=t(7064),A=t(493),J=t(6278),X=t(9900),V=t(7954),W=t(6224),q=t(7159),G=(0,d.ZP)(L.ZP)((function(n){var e=n.theme;return{width:"calc(".concat(e.spacing(30)," + 1px)"),flexShrink:0,whiteSpace:"nowrap",boxSizing:"border-box","& .MuiDrawer-paper":{transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),overflowX:"hidden",width:"calc(".concat(e.spacing(30)," + 1px)"),display:"flex",flexDirection:"column",justifyContent:"space-between",height:"100vh"}}})),K=function(){var n=(0,g.TH)(),e=(0,g.s0)(),t=(0,o.useCallback)((function(n){return function(){e(n)}}),[]),r=(0,o.useMemo)((function(){return"/"===n.pathname?"Statistics":"/charts"===n.pathname?"Charts":"/update"===n.pathname?"Update DB":""}),[n]);return(0,R.jsx)(R.Fragment,{children:(0,R.jsx)(G,{variant:"permanent",children:(0,R.jsx)(h.Z,{className:(0,l.Z)("full-width","text-center","cursor-pointer"),sx:{pt:11},children:(0,R.jsxs)(A.Z,{children:[(0,R.jsx)(O.ZP,{disablePadding:!0,children:(0,R.jsxs)(J.Z,{onClick:t("/"),selected:"Statistics"===r,children:[(0,R.jsx)(_.Z,{children:(0,R.jsx)(W.Z,{})}),(0,R.jsx)(X.Z,{primary:"Statistics"})]})}),(0,R.jsx)(O.ZP,{disablePadding:!0,selected:"Update DB"===r,children:(0,R.jsxs)(J.Z,{onClick:t("/update"),children:[(0,R.jsx)(_.Z,{children:(0,R.jsx)(V.Z,{})}),(0,R.jsx)(X.Z,{primary:"Update DB"})]})}),(0,R.jsx)(O.ZP,{disablePadding:!0,selected:"Charts"===r,children:(0,R.jsxs)(J.Z,{onClick:t("/charts"),children:[(0,R.jsx)(_.Z,{children:(0,R.jsx)(q.Z,{})}),(0,R.jsx)(X.Z,{primary:"Charts"})]})})]})})})})},Q=(0,o.memo)(K),Y=t(9964),$=function(){var n=(0,u.v9)((function(n){return{uploading:n.Help.uploading}}),u.wU).uploading;return(0,R.jsx)(R.Fragment,{children:(0,R.jsx)(Y.Z,{sx:{color:"#fff",zIndex:function(n){return n.zIndex.drawer+2}},open:!!n,children:(0,R.jsxs)(h.Z,{className:(0,l.Z)("flex-column","align-center"),children:[(0,R.jsx)(x.Z,{color:"inherit"}),(0,R.jsxs)(p.Z,{sx:{mt:2},children:[" ",n," "]})]})})})};$.defaultProps={title:"Uploading..."};var nn=(0,o.memo)($),en=t(4440),tn=t(4070),rn=t(6409),an=(0,o.forwardRef)((function(n,e){return(0,R.jsx)(tn.Z,(0,r.Z)({elevation:6,ref:e,variant:"filled"},n))})),sn=(0,o.memo)((function(n){var e=n.message,t=n.status,r=n.onClose;return(0,R.jsx)(R.Fragment,{children:(0,R.jsx)(en.Z,{anchorOrigin:{vertical:"bottom",horizontal:"center"},open:!0,onClose:r,autoHideDuration:3e3,children:(0,R.jsx)(an,{onClose:r,severity:t,children:e})})})})),cn=function(){var n=(0,u.v9)((function(n){return{globalMessage:n.Help.globalMessage}}),u.wU).globalMessage,e=(0,u.I0)();(0,o.useEffect)((function(){e((0,rn.Zf)())}),[]);var t=(0,o.useCallback)((function(){e((0,rn.MA)(null))}),[]),r=(0,o.useMemo)((function(){if(!n)return(0,R.jsx)(R.Fragment,{});var e=n.message,r=n.status;return(0,R.jsx)(sn,{message:e,status:r?"success":"error",onClose:t})}),[n]);return(0,R.jsx)(R.Fragment,{children:r})},on=(0,o.memo)(cn),un=t(1322),ln=t(4390),dn=t(7343),fn=(0,d.ZP)("main")((function(n){var e,t=n.theme;return e={width:"100%",backgroundColor:Z.Z[100],height:"100vh"},(0,c.Z)(e,"backgroundColor",Z.Z[100]),(0,c.Z)(e,"paddingLeft",t.spacing(34)),(0,c.Z)(e,"paddingRight",t.spacing(4)),(0,c.Z)(e,"paddingBottom",t.spacing(2)),(0,c.Z)(e,"paddingTop",t.spacing(4)),(0,c.Z)(e,"display","flex"),(0,c.Z)(e,"flexDirection","column"),e})),pn=(0,d.ZP)("div")((function(n){var e=n.theme;return{padding:e.spacing(0,1),paddingTop:e.mixins.toolbar.height}})),xn=function(){var n=(0,s.Z)((0,i.Z)().mark((function n(e){var t,r;return(0,i.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,ln.Sg(e,null,null);case 3:if(!(t=n.sent).data.status){n.next=7;break}return r=t.data.result,n.abrupt("return",r);case 7:n.next=12;break;case 9:return n.prev=9,n.t0=n.catch(0),n.abrupt("return",null);case 12:case"end":return n.stop()}}),n,null,[[0,9]])})));return function(e){return n.apply(this,arguments)}}(),hn=function(n){var e=n.children,t=(0,u.v9)((function(n){return{fcs:n.Help.fcs,currentFc:n.Help.currentFc,currentResult:n.Help.currentResult}}),u.wU),c=(t.fcs,t.currentFc,t.currentResult),d=(0,o.useState)({loading:!0,error:null}),Z=(0,a.Z)(d,2),g=Z[0],m=Z[1],j=(0,u.I0)();(0,o.useEffect)((function(){var n=function(){var n=(0,s.Z)((0,i.Z)().mark((function n(){var e,t,a,s,c,o,u,l;return(0,i.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,un.fZ("products");case 2:return n.next=4,un.fZ("fcs");case 4:return n.next=6,ln.JC();case 6:if(e=n.sent,n.prev=7,t=e.data,a=t.status,s=t.locations,c=t.error,!a){n.next=22;break}if(o=(0,dn.o)(s),j((0,rn._5)(o)),!o&&!o.length){n.next=19;break}return u=o[0],j((0,rn.In)(u)),n.next=17,xn(u);case 17:(l=n.sent)&&j((0,rn.d2)(l));case 19:m((function(n){return(0,r.Z)((0,r.Z)({},n),{},{loading:!1})})),n.next=23;break;case 22:m((function(n){return(0,r.Z)((0,r.Z)({},n),{},{loading:!1,error:c})}));case 23:n.next=28;break;case 25:n.prev=25,n.t0=n.catch(7),m((function(e){return(0,r.Z)((0,r.Z)({},e),{},{loading:!1,error:n.t0.message})}));case 28:case"end":return n.stop()}}),n,null,[[7,25]])})));return function(){return n.apply(this,arguments)}}();c?m((function(n){return(0,r.Z)((0,r.Z)({},n),{},{loading:!1})})):n()}),[c]);var v=g.loading,b=g.error;return(0,R.jsx)(R.Fragment,{children:v?(0,R.jsx)(h.Z,{className:(0,l.Z)("full-screen","flex","justify-center"),children:(0,R.jsx)(x.Z,{})}):(0,R.jsx)(R.Fragment,{children:b?(0,R.jsx)(h.Z,{className:(0,l.Z)("full-screen","flex","justify-center"),children:(0,R.jsx)(p.Z,{variant:"h6",children:b})}):(0,R.jsxs)(R.Fragment,{children:[(0,R.jsx)(f.ZP,{}),(0,R.jsx)(T,{}),(0,R.jsx)(Q,{}),(0,R.jsx)(nn,{}),(0,R.jsx)(on,{}),(0,R.jsxs)(fn,{children:[(0,R.jsx)(pn,{}),e]})]})})})},Zn=(0,o.memo)(hn)},4390:function(n,e,t){t.d(e,{JC:function(){return u},Ng:function(){return o},Sg:function(){return l}});var r=t(8214),a=t(5861),i=t(4569),s=t.n(i),c="http://localhost:3001",o=function(){var n=(0,a.Z)((0,r.Z)().mark((function n(e){var t,a;return(0,r.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return(t=new FormData).append("file",e),n.next=4,s().post("".concat(c,"/file/upload"),t,{headers:{"Content-Type":"multipart/form-data"}});case 4:return a=n.sent,n.abrupt("return",a);case 6:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),u=function(){var n=(0,a.Z)((0,r.Z)().mark((function n(){var e;return(0,r.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,s().post("".concat(c,"/info/getLocations"));case 2:return e=n.sent,n.abrupt("return",e);case 4:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}(),l=function(){var n=(0,a.Z)((0,r.Z)().mark((function n(e,t,a){var i;return(0,r.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,s().post("".concat(c,"/info/getResult"),{fc:e,from:t,to:a});case 2:return i=n.sent,n.abrupt("return",i);case 4:case"end":return n.stop()}}),n)})));return function(e,t,r){return n.apply(this,arguments)}}()},1322:function(n,e,t){t.d(e,{fZ:function(){return s}});var r=t(8214),a=t(5861),i=(0,t(9073).X3)("david_statistics",1,{upgrade:function(n){n.createObjectStore("products",{keyPath:"id",autoIncrement:!0}),n.createObjectStore("fcs",{keyPath:"id",autoIncrement:!0})}}),s=function(){var n=(0,a.Z)((0,r.Z)().mark((function n(e){return(0,r.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,i;case 2:return n.abrupt("return",n.sent.clear(e));case 3:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()},7343:function(n,e,t){t.d(e,{o:function(){return a}});var r=t(2982),a=(t(2426),function(n){return(0,r.Z)(new Set(n.map((function(n){return n.Fc}))))})}}]);
//# sourceMappingURL=795.bd06406f.chunk.js.map