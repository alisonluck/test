"use strict";(self.webpackChunkdavid_project=self.webpackChunkdavid_project||[]).push([[795],{1795:function(n,e,r){r.d(e,{Z:function(){return mn}});var t=r(8214),a=r(1413),i=r(5861),o=r(885),u=r(4942),c=r(2791),s=r(5048),l=r(8182),f=(r(2426),r(7630)),d=r(4708),p=r(890),h=r(3239),m=r(4554),x=r(5519),Z=r(6871),g=r(4395),v=r(4663),j=r(3400),b=r(4869),y=r(2727),C=r(3208),w=r(1292),k=r(3767),S=r(703),P=r(5028),D=r(7865),M=r(6488),I=r(6120),L=r(9287),F=r(1881),A=r(184),B=(0,c.memo)((function(n){var e=n.name;return"Logout"===e?(0,A.jsx)(M.Z,{sx:{fontSize:22,mr:1}}):"Setting"===e?(0,A.jsx)(I.Z,{sx:{fontSize:22,mr:1}}):"Chat With Driver"===e?(0,A.jsx)(L.Z,{sx:{fontSize:22,mr:1}}):"Order Details"===e?(0,A.jsx)(F.Z,{sx:{fontSize:22,mr:1}}):(0,A.jsx)(A.Fragment,{})})),z=function(n){var e=n.open,r=n.anchorEl,t=n.options,i=n.onClick,o=n.onClose;return(0,A.jsx)(A.Fragment,{children:(0,A.jsx)(w.Z,{open:e,anchorEl:r.current,role:void 0,transition:!0,disablePortal:!0,placement:"bottom-end",style:{zIndex:1300},children:function(n){var e=n.TransitionProps;n.placement;return(0,A.jsx)(C.Z,(0,a.Z)((0,a.Z)({},e),{},{style:{transformOrigin:"center top"},children:(0,A.jsx)(S.Z,{elevation:4,children:(0,A.jsx)(k.Z,{onClickAway:o,children:(0,A.jsx)(P.Z,{autoFocusItem:Boolean(r),sx:{maxHeight:400},children:t.map((function(n,e){return(0,A.jsxs)(D.Z,{onClick:function(){return i(n)},sx:{paddingLeft:function(n){return n.spacing(3)},paddingRight:function(n){return n.spacing(3)}},children:[(0,A.jsx)(B,{name:n}),(0,A.jsx)(p.Z,{sx:{paddingTop:function(n){return n.spacing(.2)},paddingBottom:function(n){return n.spacing(.2)}},children:n})]},"option_".concat(e))}))})})})}))}})})};z.defaultProps={open:!1,anchorEl:null,options:[],onClick:function(){},onClose:function(){}};var E=(0,c.memo)(z),U=((0,f.ZP)(b.Z)((function(n){var e=n.theme;return{"& .MuiBadge-badge":{right:-3,top:13,border:"2px solid ".concat(e.palette.background.paper),padding:"0 4px"}}})),(0,f.ZP)(v.Z)((function(n){var e=n.theme;return(0,a.Z)({display:"flex",alignItems:"center",justifyContent:"flex-start",padding:e.spacing(0,1)},e.mixins.toolbar)}))),R=((0,f.ZP)("img")((function(n){return{width:35,height:35,objectFit:"contain",marginRight:n.theme.spacing(4)}})),function(){var n=(0,c.useState)({menu:!1}),e=(0,o.Z)(n,2),r=e[0],t=e[1],i=(0,Z.s0)(),u=(0,c.useRef)(null),f=((0,s.I0)(),(0,c.useCallback)((function(n){t((function(n){return(0,a.Z)((0,a.Z)({},n),{},{menu:!1})}))}),[])),d=((0,c.useCallback)((function(){t((function(n){return(0,a.Z)((0,a.Z)({},n),{},{menu:!0})}))}),[]),(0,c.useCallback)((function(){t((function(n){return(0,a.Z)((0,a.Z)({},n),{},{menu:!1})}))}),[]));(0,c.useCallback)((function(){i("/")}),[]);return(0,A.jsxs)(A.Fragment,{children:[(0,A.jsx)(g.Z,{position:"fixed",sx:{bgcolor:x.Z[100],zIndex:function(n){return n.zIndex.drawer+1}},children:(0,A.jsxs)(U,{spacing:2,children:[(0,A.jsx)(m.Z,{className:(0,l.Z)("flex-grow"),children:(0,A.jsx)(p.Z,{variant:"h6",sx:{color:x.Z[700]},children:"My Statistics Viewer"})}),(0,A.jsx)(j.Z,{children:(0,A.jsx)(y.Z,{})})]})}),(0,A.jsx)(E,{options:["Logout","Setting"],open:r.menu,anchorEl:u,onClose:d,onClick:f})]})}),H=(0,c.memo)(R),N=r(9953),T=r(5021),_=r(7064),O=r(493),W=r(6278),X=r(9900),$=r(7954),V=r(6224),q=r(7159),G=(0,f.ZP)(N.ZP)((function(n){var e=n.theme;return{width:"calc(".concat(e.spacing(30)," + 1px)"),flexShrink:0,whiteSpace:"nowrap",boxSizing:"border-box","& .MuiDrawer-paper":{transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),overflowX:"hidden",width:"calc(".concat(e.spacing(30)," + 1px)"),display:"flex",flexDirection:"column",justifyContent:"space-between",height:"100vh"}}})),J=function(){var n=(0,Z.TH)(),e=(0,Z.s0)(),r=(0,c.useCallback)((function(n){return function(){e(n)}}),[]),t=(0,c.useMemo)((function(){return"/"===n.pathname?"Statistics":"/charts"===n.pathname?"Charts":"/update"===n.pathname?"Update DB":""}),[n]);return(0,A.jsx)(A.Fragment,{children:(0,A.jsx)(G,{variant:"permanent",children:(0,A.jsx)(m.Z,{className:(0,l.Z)("full-width","text-center","cursor-pointer"),sx:{pt:11},children:(0,A.jsxs)(O.Z,{children:[(0,A.jsx)(T.ZP,{disablePadding:!0,children:(0,A.jsxs)(W.Z,{onClick:r("/"),selected:"Statistics"===t,children:[(0,A.jsx)(_.Z,{children:(0,A.jsx)(V.Z,{})}),(0,A.jsx)(X.Z,{primary:"Statistics"})]})}),(0,A.jsx)(T.ZP,{disablePadding:!0,selected:"Update DB"===t,children:(0,A.jsxs)(W.Z,{onClick:r("/update"),children:[(0,A.jsx)(_.Z,{children:(0,A.jsx)($.Z,{})}),(0,A.jsx)(X.Z,{primary:"Update DB"})]})}),(0,A.jsx)(T.ZP,{disablePadding:!0,selected:"Charts"===t,children:(0,A.jsxs)(W.Z,{onClick:r("/charts"),children:[(0,A.jsx)(_.Z,{children:(0,A.jsx)(q.Z,{})}),(0,A.jsx)(X.Z,{primary:"Charts"})]})})]})})})})},K=(0,c.memo)(J),Q=r(9964),Y=function(){var n=(0,s.v9)((function(n){return{uploading:n.Help.uploading}}),s.wU).uploading;return(0,A.jsx)(A.Fragment,{children:(0,A.jsx)(Q.Z,{sx:{color:"#fff",zIndex:function(n){return n.zIndex.drawer+2}},open:n,children:(0,A.jsxs)(m.Z,{className:(0,l.Z)("flex-column","align-center"),children:[(0,A.jsx)(h.Z,{color:"inherit"}),(0,A.jsx)(p.Z,{sx:{mt:2},children:"Uploading..."})]})})})},nn=(0,c.memo)(Y),en=r(4440),rn=r(4070),tn=r(6409),an=(0,c.forwardRef)((function(n,e){return(0,A.jsx)(rn.Z,(0,a.Z)({elevation:6,ref:e,variant:"filled"},n))})),on=(0,c.memo)((function(n){var e=n.message,r=n.status,t=n.onClose;return(0,A.jsx)(A.Fragment,{children:(0,A.jsx)(en.Z,{anchorOrigin:{vertical:"bottom",horizontal:"center"},open:!0,onClose:t,autoHideDuration:3e3,children:(0,A.jsx)(an,{onClose:t,severity:r,children:e})})})})),un=function(){var n=(0,s.v9)((function(n){return{globalMessage:n.Help.globalMessage}}),s.wU).globalMessage,e=(0,s.I0)();(0,c.useEffect)((function(){e((0,tn.Zf)())}),[]);var r=(0,c.useCallback)((function(){e((0,tn.MA)(null))}),[]),t=(0,c.useMemo)((function(){if(!n)return(0,A.jsx)(A.Fragment,{});var e=n.message,t=n.status;return(0,A.jsx)(on,{message:e,status:t?"success":"error",onClose:r})}),[n]);return(0,A.jsx)(A.Fragment,{children:t})},cn=(0,c.memo)(un),sn=r(1322),ln=r(4390),fn=r(7343),dn=(0,f.ZP)("main")((function(n){var e,r=n.theme;return e={width:"100%",backgroundColor:x.Z[100],height:"100vh"},(0,u.Z)(e,"backgroundColor",x.Z[100]),(0,u.Z)(e,"paddingLeft",r.spacing(34)),(0,u.Z)(e,"paddingRight",r.spacing(4)),(0,u.Z)(e,"paddingBottom",r.spacing(2)),(0,u.Z)(e,"paddingTop",r.spacing(4)),(0,u.Z)(e,"display","flex"),(0,u.Z)(e,"flexDirection","column"),e})),pn=(0,f.ZP)("div")((function(n){var e=n.theme;return{padding:e.spacing(0,1),paddingTop:e.mixins.toolbar.height}})),hn=function(n){var e=n.children,r=(0,c.useState)({loading:!0,error:null}),u=(0,o.Z)(r,2),f=u[0],x=u[1],Z=(0,s.I0)();(0,c.useEffect)((function(){var n=function(){var n=(0,i.Z)((0,t.Z)().mark((function n(){var e,r,i,o,u,c,s,l,f;return(0,t.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,sn.Xp();case 3:return e=n.sent,n.next=6,sn.ok();case 6:if(r=n.sent,!(e&&r&&e.length&&r.length)){n.next=13;break}Z((0,tn.RU)(e)),Z((0,tn._5)(r)),x((function(n){return(0,a.Z)((0,a.Z)({},n),{},{loading:!1})})),n.next=35;break;case 13:return console.log(3939),n.next=16,sn.fZ("products");case 16:return n.next=18,sn.fZ("fcs");case 18:return n.next=20,ln.E();case 20:if(i=n.sent,o=i.data,u=o.status,c=o.products,s=o.locations,l=o.error,!u){n.next=34;break}return f=(0,fn.Z)({products:c,locations:s}),n.next=27,sn.$W("products",f.products);case 27:return n.next=29,sn.$W("fcs",f.fcs);case 29:Z((0,tn.RU)(f.products)),Z((0,tn._5)(f.fcs)),x((function(n){return(0,a.Z)((0,a.Z)({},n),{},{loading:!1})})),n.next=35;break;case 34:x((function(n){return(0,a.Z)((0,a.Z)({},n),{},{loading:!1,error:l})}));case 35:n.next=40;break;case 37:n.prev=37,n.t0=n.catch(0),x((function(e){return(0,a.Z)((0,a.Z)({},e),{},{loading:!1,error:n.t0.message})}));case 40:case"end":return n.stop()}}),n,null,[[0,37]])})));return function(){return n.apply(this,arguments)}}();n()}),[]);var g=f.loading,v=f.error;return(0,A.jsx)(A.Fragment,{children:g?(0,A.jsx)(m.Z,{className:(0,l.Z)("full-screen","flex","justify-center"),children:(0,A.jsx)(h.Z,{})}):(0,A.jsx)(A.Fragment,{children:v?(0,A.jsx)(m.Z,{className:(0,l.Z)("full-screen","flex","justify-center"),children:(0,A.jsx)(p.Z,{variant:"h6",children:v})}):(0,A.jsxs)(A.Fragment,{children:[(0,A.jsx)(d.ZP,{}),(0,A.jsx)(H,{}),(0,A.jsx)(K,{}),(0,A.jsx)(nn,{}),(0,A.jsx)(cn,{}),(0,A.jsxs)(dn,{children:[(0,A.jsx)(pn,{}),e]})]})})})},mn=(0,c.memo)(hn)},4390:function(n,e,r){r.d(e,{E:function(){return s},N:function(){return c}});var t=r(8214),a=r(5861),i=r(4569),o=r.n(i),u="http://159.223.203.170:3001",c=function(){var n=(0,a.Z)((0,t.Z)().mark((function n(e){var r,a;return(0,t.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return(r=new FormData).append("file",e),n.next=4,o().post("".concat(u,"/file/upload"),r,{headers:{"Content-Type":"multipart/form-data"}});case 4:return a=n.sent,n.abrupt("return",a);case 6:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),s=function(){var n=(0,a.Z)((0,t.Z)().mark((function n(){var e;return(0,t.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,o().post("".concat(u,"/info/getAllInfo"));case 2:return e=n.sent,n.abrupt("return",e);case 4:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}()},1322:function(n,e,r){r.d(e,{$W:function(){return o},Xp:function(){return c},fZ:function(){return u},ok:function(){return s}});var t=r(8214),a=r(5861),i=(0,r(9073).X3)("david_statistics",1,{upgrade:function(n){n.createObjectStore("products",{keyPath:"id",autoIncrement:!0}),n.createObjectStore("fcs",{keyPath:"id",autoIncrement:!0})}}),o=function(){var n=(0,a.Z)((0,t.Z)().mark((function n(e,r){var a,o;return(0,t.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,i;case 2:return a=n.sent.transaction(e,"readwrite"),o=r.map((function(n){return a.store.put(n)})).concat(a.done),n.abrupt("return",Promise.all(o));case 5:case"end":return n.stop()}}),n)})));return function(e,r){return n.apply(this,arguments)}}(),u=function(){var n=(0,a.Z)((0,t.Z)().mark((function n(e){return(0,t.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,i;case 2:return n.abrupt("return",n.sent.clear(e));case 3:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),c=function(){var n=(0,a.Z)((0,t.Z)().mark((function n(){var e;return(0,t.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,i;case 2:return n.next=4,n.sent.getAll("products");case 4:return e=n.sent,n.abrupt("return",e);case 6:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}(),s=function(){var n=(0,a.Z)((0,t.Z)().mark((function n(){var e;return(0,t.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,i;case 2:return n.next=4,n.sent.getAll("fcs");case 4:return e=n.sent,n.abrupt("return",e);case 6:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}()},7343:function(n,e,r){r.d(e,{Z:function(){return u},a:function(){return c}});var t=r(2982),a=r(1413),i=r(2426),o=r.n(i),u=function(n){var e=n.products,r=n.locations;try{var i=e.map((function(n){var e=r.find((function(e){return e.Asin===n.Asin}));return e?(0,a.Z)((0,a.Z)({},n),{},{date:e.Date,fc:e.Fc}):(0,a.Z)((0,a.Z)({},n),{},{date:"",fc:""})})),o=(0,t.Z)(new Set(r.map((function(n){return n.Fc}))));return{products:i,fcs:o=o.map((function(n){return{name:n}}))}}catch(u){return{products:[],fcs:[]}}},c=function(n,e,r,a){var i=(0,t.Z)(n);"All"!==e&&(i=i.filter((function(n){return n.fc===e}))),r&&(i=i.filter((function(n){return!!n.date})).filter((function(n){return o()(n.date).isAfter(r)||o()(n.date).isSame(r)}))),console.log(a),console.log(r),console.log(i),a&&(i=i.filter((function(n){return!!n.date})).filter((function(n){return o()(n.date).isBefore(a)||o()(n.date).isSame(a)}))),console.log(i);var u=(0,t.Z)(i);(u=u.filter((function(n){return!!n.Price}))).sort((function(n,e){return n.Price<e.Price?1:-1}));var c=u.filter((function(n,e){return!!n&&e<5})).map((function(n){return n.Price})),s=(u=u.reverse()).filter((function(n,e){return!!n&&e<5})).map((function(n){return n.Price})),l=u.map((function(n){return n.Price})).reduce((function(n,e){return n+e}),0)/u.length;l=parseInt(1e4*l)/1e4,(u=(u=(0,t.Z)(i)).filter((function(n){return!!n.Shortest}))).sort((function(n,e){return n.Shortest<e.Shortest?1:-1}));var f=u.filter((function(n,e){return!!n&&e<5})).map((function(n){return n.Shortest})),d=(u=u.reverse()).filter((function(n,e){return!!n&&e<5})).map((function(n){return n.Shortest})),p=u.map((function(n){return n.Shortest})).reduce((function(n,e){return n+e}),0)/u.length;p=parseInt(1e4*p)/1e4,(u=(u=(0,t.Z)(i)).filter((function(n){return!!n.Median}))).sort((function(n,e){return n.Median<e.Median?1:-1}));var h=u.filter((function(n,e){return!!n&&e<5})).map((function(n){return n.Median})),m=(u=u.reverse()).filter((function(n,e){return!!n&&e<5})).map((function(n){return n.Median})),x=u.map((function(n){return n.Median})).reduce((function(n,e){return n+e}),0)/u.length;x=parseInt(1e4*x)/1e4,(u=(u=(0,t.Z)(i)).filter((function(n){return!!n.Longest}))).sort((function(n,e){return n.Longest<e.Longest?1:-1}));var Z=u.filter((function(n,e){return!!n&&e<5})).map((function(n){return n.Longest})),g=(u=u.reverse()).filter((function(n,e){return!!n&&e<5})).map((function(n){return n.Longest})),v=u.map((function(n){return n.Longest})).reduce((function(n,e){return n+e}),0)/u.length;v=parseInt(1e4*v)/1e4,u=(u=(0,t.Z)(i)).filter((function(n){return!!n.C1}));var j=(0,t.Z)(new Set(u.map((function(n){return n.C1})))),b=[];j.forEach((function(n){var e=u.filter((function(e){return e.C1===n}));b.push({label:n,count:e.length})})),b.sort((function(n,e){return n.count<e.count?1:-1})),u=(u=(0,t.Z)(i)).filter((function(n){return!!n.C2}));var y=(0,t.Z)(new Set(u.map((function(n){return n.C2})))),C=[];y.forEach((function(n){var e=u.filter((function(e){return e.C2===n}));C.push({label:n,count:e.length})})),C.sort((function(n,e){return n.count<e.count?1:-1})),u=(u=(0,t.Z)(i)).filter((function(n){return!!n.Brand}));var w=(0,t.Z)(new Set(u.map((function(n){return n.Brand})))),k=[];return w.forEach((function(n){var e=u.filter((function(e){return e.Brand===n}));k.push({label:n,count:e.length})})),k.sort((function(n,e){return n.count<e.count?1:-1})),[{label:"Highest Prices",array:c},{label:"Lowest Prices",array:s},{label:"Average Prices",array:[l]},{label:"Largest Shortest Dimensions",array:f},{label:"Smallest Shortest Dimensions",array:d},{label:"Average Shortest Dimension",array:[p]},{label:"Largest Median Dimensions",array:h},{label:"Smallest Median Dimensions",array:m},{label:"Average Median Dimension",array:[x]},{label:"Largest Longest Dimensions",array:Z},{label:"Smallest Longest Dimensions",array:g},{label:"Average Longest Dimension",array:[v]},{label:"Category",array:b.map((function(n){return n.label}))},{label:"Category Count",array:b.map((function(n){return n.count}))},{label:"Subcategory",array:C.map((function(n){return n.label}))},{label:"Subcategory Count",array:C.map((function(n){return n.count}))},{label:"Brand",array:k.map((function(n){return n.label}))},{label:"Brand Count",array:k.map((function(n){return n.count}))}]}}}]);
//# sourceMappingURL=795.a544ad6a.chunk.js.map